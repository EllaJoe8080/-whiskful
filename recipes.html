<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Whiskful Recipes</title>
    <style>
      :root { --brand:#ff7a59; --bg:#fff8f3; --pin:#e60023; }
      * { box-sizing: border-box; margin: 0; padding: 0; }

      /* Page base (removed the tiled GIF) */
      body {
        font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
        color:#222;
        background: var(--bg);
      }

      /* keep content above the background leaves */
      nav, .search-wrap, .grid { position: relative; z-index: 1; }

      /* Navbar */
      nav {
        position:sticky; top:0; z-index:10;
        height:72px; padding:0 24px; background:#fff;
        box-shadow:0 2px 8px rgba(0,0,0,.06);
        display:flex; align-items:center; justify-content:space-between;
      }
      nav img.logo { max-height:140px; width:auto; display:block; }
      nav ul { list-style:none; display:flex; gap:24px; }
      nav a { text-decoration:none; font-weight:600; color:#333; }
      nav a:hover { color:var(--brand); }

      /* Search */
      .search-wrap { display:flex; justify-content:center; margin:28px 0 8px; }
      .search-box { position:relative; width:min(640px,92%); }
      .search-box input {
        width:100%; padding:12px 16px;
        border:2px solid var(--brand); border-radius:999px;
        font-size:16px; background:#fff;
      }
      .search-box input:focus {
        border-color:#ff5a36; box-shadow:0 0 8px rgba(255,122,89,.3);
        outline: none;
      }
      .dangling-gif {
        position:absolute; top:-22px; right:-20px; width:100px;
        pointer-events:none; transform-origin:top center;
        animation:sway 2.5s ease-in-out infinite;
      }
      @keyframes sway { 0%{transform:rotate(6deg)} 50%{transform:rotate(-6deg)} 100%{transform:rotate(6deg)} }

      /* Grid */
      .grid {
        width:min(1100px,94%);
        margin:12px auto 64px;
        display:grid;
        grid-template-columns:repeat(auto-fill, minmax(260px, 1fr));
        gap:12px;
      }
      .tile {
        background:#fff; border-radius:8px; overflow:hidden;
        box-shadow:0 1px 6px rgba(0,0,0,.05);
        transition:transform .15s ease, box-shadow .15s ease;
        position:relative;
      }
      .tile:hover { transform:translateY(-2px); box-shadow:0 10px 24px rgba(0,0,0,.12); }
      .thumb {
        aspect-ratio:2/3;
        background:#fafafa;
        display:flex; align-items:center; justify-content:center;
        padding:4px;
      }
      .thumb img { width:100%; height:100%; object-fit:cover; display:block; }

      /* ===== Falling leaves layer (pure CSS + tiny JS) ===== */
      #leaf-layer {
        position: fixed;
        inset: 0;
        z-index: 0;            /* sits behind everything */
        pointer-events: none;
        overflow: hidden;
      }
      .leaf {
        --size: 28px;
        position: absolute;
        top: -10vh;
        width: var(--size);
        height: var(--size);
        will-change: transform, opacity;
        opacity: 0;
        filter: drop-shadow(0 2px 2px rgba(0,0,0,.12));
        animation:
          leaf-fall var(--dur) linear var(--delay) forwards,
          leaf-sway var(--dur) ease-in-out var(--delay) forwards;
      }
      @keyframes leaf-fall {
        0%   { transform: translate(var(--start-x), -10vh) rotate(var(--rot-start)); opacity: 0; }
        5%   { opacity: 1; }
        100% { transform: translate(var(--end-x), 110vh) rotate(var(--rot-end)); opacity: 0; }
      }
      @keyframes leaf-sway {
        0%   { }
        50%  { transform: translateX(calc(var(--amp) * 1)) rotate(var(--rot-mid)); }
        100% { transform: translateX(calc(var(--amp) * -1)) rotate(var(--rot-end)); }
      }
      @media (prefers-reduced-motion: reduce) {
        .leaf { animation: none; opacity: 0; }
      }
    </style>
  </head>
  <body>
    <!-- falling leaves background layer -->
    <div id="leaf-layer" aria-hidden="true"></div>

    <!-- Navbar -->
    <nav>
      <a href="index.html"><img src="/logo.png" alt="Whiskful logo" class="logo" /></a>
      <ul>
        <li><a href="recipes.html">Recipes</a></li>
        <li><a href="#">Community</a></li>
        <li><a href="#">About</a></li>
      </ul>
    </nav>

    <!-- Search -->
    <div class="search-wrap">
      <div class="search-box">
        <input type="text" placeholder="Search recipes..." />
        <img src="/images/cherries.gif" alt="" class="dangling-gif" />
      </div>
    </div>

    <!-- Grid -->
    <main class="grid">
      <figure class="tile">
        <div class="thumb">
          <img src="/images/pistachio-chocolate-roll.png" alt="Pistachio Chocolate Swiss Roll" />
        </div>
        <a href="#"></a>
      </figure>

      <figure class="tile">
        <div class="thumb">
          <img src="/images/pumpkin cheesecake truffles.jpeg" alt="Pumpkin Cheesecake Truffles" />
        </div>
        <a href="#"></a>
      </figure>
    </main>

    <!-- tiny script that spawns subtle leaves -->
    <script>
      (() => {
        const CONFIG = {
          minInterval: 2200,   // spawn every 2.2–3.8s randomly
          maxInterval: 3800,
          minDur: 9000,        // fall duration 9–14s
          maxDur: 14000,
          minSize: 18,         // px
          maxSize: 42,
          minAmp: 20,          // px sway
          maxAmp: 70,
          maxConcurrent: 2     // <= keep it light & cozy
        };

        const reduce = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
        if (reduce) return;

        const layer = document.getElementById('leaf-layer');
        if (!layer) return;

        let liveLeaves = 0;
        const LEAVES = [
          `data:image/svg+xml;utf8,
            <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'>
              <path fill='%23F39C12' d='M8 38c2-15 19-30 33-28 10 1 15 9 13 18-3 12-18 20-30 20-8 0-14-4-16-10z'/>
              <path fill='none' stroke='%238A4B08' stroke-width='3' d='M9 38c9 3 21 1 31-6'/>
              <path fill='none' stroke='%238A4B08' stroke-width='3' d='M25 26c4 7 9 13 13 20'/>
            </svg>`,
          `data:image/svg+xml;utf8,
            <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'>
              <path fill='%23E74C3C' d='M12 34c4-12 18-22 30-22 9 0 14 6 12 14-2 10-15 18-26 18-7 0-13-3-16-10z'/>
              <path fill='none' stroke='%238B1E14' stroke-width='3' d='M14 34c8 2 18 0 26-5'/>
              <path fill='none' stroke='%238B1E14' stroke-width='3' d='M24 24c3 6 8 11 12 16'/>
            </svg>`,
          `data:image/svg+xml;utf8,
            <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'>
              <path fill='%23F1C40F' d='M10 36c3-13 17-25 29-24 9 1 14 8 12 16-3 11-16 19-27 19-7 0-12-4-14-11z'/>
              <path fill='none' stroke='%238A6C00' stroke-width='3' d='M12 36c8 3 19 1 27-6'/>
              <path fill='none' stroke='%238A6C00' stroke-width='3' d='M23 27c3 6 7 12 11 18'/>
            </svg>`
        ];

        const rand = (min, max) => Math.random() * (max - min) + min;

        function spawnLeaf() {
          if (liveLeaves >= CONFIG.maxConcurrent) return;

          const leaf = document.createElement('img');
          leaf.className = 'leaf';
          leaf.src = LEAVES[Math.floor(Math.random() * LEAVES.length)];

          const size  = rand(CONFIG.minSize, CONFIG.maxSize);
          const dur   = rand(CONFIG.minDur, CONFIG.maxDur);
          const startX = rand(0, window.innerWidth);
          const endX   = startX + rand(-120, 120);
          const amp    = rand(CONFIG.minAmp, CONFIG.maxAmp);

          const rotStart = `${rand(-25, 25)}deg`;
          const rotMid   = `${rand(-10, 10)}deg`;
          const rotEnd   = `${rand(-30, 30)}deg`;

          leaf.style.setProperty('--size', `${size}px`);
          leaf.style.setProperty('--dur',  `${dur}ms`);
          leaf.style.setProperty('--delay', `0ms`);
          leaf.style.setProperty('--start-x', `${startX}px`);
          leaf.style.setProperty('--end-x', `${endX}px`);
          leaf.style.setProperty('--amp', `${amp}px`);
          leaf.style.setProperty('--rot-start', rotStart);
          leaf.style.setProperty('--rot-mid', rotMid);
          leaf.style.setProperty('--rot-end', rotEnd);
          leaf.style.left = `${startX}px`;

          liveLeaves++;
          leaf.addEventListener('animationend', () => {
            leaf.remove();
            liveLeaves--;
          });

          layer.appendChild(leaf);
        }

        function loop() {
          spawnLeaf();
          const next = rand(CONFIG.minInterval, CONFIG.maxInterval);
          setTimeout(loop, next);
        }

        requestAnimationFrame(loop);
      })();
    </script>
  </body>
</html>
